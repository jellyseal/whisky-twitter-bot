{"version":3,"sources":["../src/likebot.js"],"names":["searchTerms","blacklist","blacklistRegex","RegExp","join","filter","track","stream","console","log","on","event","id_str","possibly_sensitive","retweeted_status","test","text","post","screen_name","user","then","Date","catch","error","id"],"mappings":";;AAAA;;AAEA;AACA,IAAMA,cAAc,CAChB,SADgB,EAEhB,SAFgB,EAGhB,UAHgB,EAIhB,UAJgB,EAKhB,aALgB,EAMhB,eANgB,EAOhB,aAPgB,EAQhB,cARgB,EAShB,cATgB,EAUhB,cAVgB,EAWhB,eAXgB,CAApB;;AAcA;AACA,IAAMC,YAAY,CACd,KADc,EAEd,QAFc,EAGd,QAHc,CAAlB;;AAMA,IAAMC,iBAAiB,IAAIC,MAAJ,MAAcF,UAAUG,IAAV,CAAe,GAAf,CAAd,EAAqC,GAArC,CAAvB;;AAEA,IAAMC,SAAS;AACXC,WAAON,YAAYI,IAAZ,CAAiB,GAAjB;AADI,CAAf;;AAIA;AACA,IAAMG,SAAS,uBAAOA,MAAP,CAAc,iBAAd,EAAiCF,MAAjC,CAAf;AACAG,QAAQC,GAAR,CAAY,gCAAZ;;AAEAF,OAAOG,EAAP,CAAU,MAAV,EAAkB,UAAUC,KAAV,EAAiB;AAChCH,YAAQC,GAAR,CAAYE,MAAMC,MAAlB;AACC,QAAI,CAACD,MAAME,kBAAP,IAA6B,CAACF,MAAMG,gBAAxC,EAA0D;AACtD,YAAI,CAACZ,eAAea,IAAf,CAAoBJ,MAAMK,IAA1B,CAAL,EAAsC;AAClC;;;;;;;;;AASA;AACA,mCAAOC,IAAP,CAAY,oBAAZ,EAAkC,EAAEC,aAAaP,MAAMQ,IAAN,CAAWD,WAA1B,EAAlC,EACCE,IADD,CACM,kBAAU;AACZZ,wBAAQC,GAAR,CAAY,YAAZ,EAA0B,IAAIY,IAAJ,EAA1B,EAAsCV,MAAMK,IAA5C;AACH,aAHD,EAICM,KAJD,CAIO,UAACC,KAAD,EAAW;AACdf,wBAAQC,GAAR,CAAY,mCAAZ,EAAiDc,KAAjD,EAAwDZ,KAAxD;AACH,aAND;AAOA;AACA,mCAAOM,IAAP,CAAY,kBAAZ,EAAgC,EAAEO,IAAIb,MAAMC,MAAZ,EAAhC,EACCQ,IADD,CACM,kBAAU;AACZZ,wBAAQC,GAAR,CAAY,aAAZ,EAA2B,IAAIY,IAAJ,EAA3B,EAAuCV,MAAMK,IAA7C;AACH,aAHD,EAICM,KAJD,CAIO,UAACC,KAAD,EAAW;AACdf,wBAAQC,GAAR,CAAY,iCAAZ,EAA+Cc,KAA/C,EAAsDZ,KAAtD;AACH,aAND;AAOH,SA1BD,MA0BO;AACHH,oBAAQC,GAAR,CAAY,WAAZ,EAAyBE,MAAMK,IAA/B;AACH;AACJ;AACJ,CAjCD;;AAmCAT,OAAOG,EAAP,CAAU,OAAV,EAAmB,UAAUa,KAAV,EAAiB;AAChC,UAAMA,KAAN;AACH,CAFD","file":"likebot.js","sourcesContent":["import {client} from './twitterService';\n\n// Add the words and or hashstag you are searching for here:\nconst searchTerms = [\n    '#whisky',\n    '#scotch',\n    '#whiskey',\n    '#bourbon',\n    '#singlemalt',\n    '#caskstrength',\n    '#whiskygram',\n    '#whiskylover',\n    '#instawhisky',\n    '#jackdaniels',\n    '#bourbongents',\n];\n\n// Any tweets containing any of the words will be not liked\nconst blacklist = [\n    'sex',\n    'cyalis',\n    'viagra'\n];\n\nconst blacklistRegex = new RegExp(`${blacklist.join('|')}`, 'i');\n\nconst filter = {\n    track: searchTerms.join(',')\n};\n\n// Start the stream\nconst stream = client.stream('statuses/filter', filter);\nconsole.log('Bot is online and listening...')\n\nstream.on('data', function (event) {\n   console.log(event.id_str);\n    if (!event.possibly_sensitive && !event.retweeted_status) {\n        if (!blacklistRegex.test(event.text)) {\n            /* Like\n            client.post('favorites/create', { id: event.id_str })\n            .then(result => {\n                console.log('liked: ', new Date(), event.text);\n            })\n            .catch((error) => {\n                console.log('Problem liking event with id: ', error, event);\n            })\n            */\n            // Follow\n            client.post('friendships/create', { screen_name: event.user.screen_name })\n            .then(result => {\n                console.log('followed: ', new Date(), event.text);\n            })\n            .catch((error) => {\n                console.log('Problem following event with id: ', error, event);\n            })\n            // RT\n            client.post('statuses/retweet', { id: event.id_str })\n            .then(result => {\n                console.log('Retweeted: ', new Date(), event.text);\n            })\n            .catch((error) => {\n                console.log('Problem retweet event with id: ', error, event);\n            })\n        } else {\n            console.log('blocked: ', event.text);\n        }\n    }\n});\n\nstream.on('error', function (error) {\n    throw error;\n});\n"]}